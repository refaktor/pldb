<!DOCTYPE html><html lang="en"><meta charset="utf-8"></meta>
<title>M4 - Programming language</title>
<script>/* This HTML was generated by ðŸ“œ Scroll v71.5.0. http://scroll.pub */</script>
<style>@media print {.doNotPrint {display: none !important;}}</style>
<link rel="canonical" href="https://pldb.com/concepts/m4.html"></link>
<meta charset="iso-8859-1"></meta>
<meta name="viewport" content="width=device-width,initial-scale=1"></meta>
<meta name="description" content="PLDB: a Programming Language Database. Build the next great programming language."></meta>
<meta name="generator" content="Scroll v71.5.0"></meta>
<meta property="og:title" content="M4 - Programming language"></meta>
<meta property="og:description" content="PLDB: a Programming Language Database. Build the next great programming language."></meta>
<meta property="og:image" content=""></meta>
<meta name="twitter:card" content="summary_large_image"></meta>

<link rel="stylesheet" type="text/css" href="/combined.css"></link>
<div class="trueBaseThemeHeader">
 <a href="/index.html" class="trueBaseThemeLogo">PLDB</a>
 <form style="display:inline-block;" method="get" action="/fullTextSearch">
  <input type="search" id="trueBaseThemeHeaderSearch" name="q" placeholder="Search" autocomplete="off"></input>
</form>
 <a href="/csv.html">Questions</a>
 <a href="/queries/all.html">Concepts</a>
</div>
<a class="trueBaseThemeGitHubTopRight" href="https://github.com/breck7/pldb"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub icon</title><path d="M12 .297c-6.63 0-12  5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422  18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305  3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0  1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12  3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0  .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>

<div class="scrollSection"><h1 class="scrollTitle"><a href="m4.html">M4</a></h1>
</div>
<div class="scrollSection"><h1 hidden="undefined" class="scrollTitle"><a href="m4.html">M4 - Programming language</a></h1>
</div>
<a class="trueBaseThemePreviousItem" href="asciidoc.html">&lt;</a>
<a class="trueBaseThemeNextItem" href="x86-64-isa.html">&gt;</a>
<div class="scrollColumns" style="column-width:35ch;column-count:4;max-width:200ch;">
<div class="trueBaseThemeQuickLinks"><a href="https://riju.codes/m4" class="material-symbols-outlined">terminal</a> <a href="https://en.wikipedia.org/wiki/M4_(computer_language)"><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="98.05px" height="98.05px" viewBox="0 0 98.05 98.05" style="enable-background:new 0 0 98.05 98.05;" xml:space="preserve"><path d="M98.023,17.465l-19.584-0.056c-0.004,0.711-0.006,1.563-0.017,2.121c1.664,0.039,5.922,0.822,7.257,4.327L66.92,67.155 c-0.919-2.149-9.643-21.528-10.639-24.02l9.072-18.818c1.873-2.863,5.455-4.709,8.918-4.843l-0.01-1.968L55.42,17.489 c-0.045,0.499,0.001,1.548-0.068,2.069c5.315,0.144,7.215,1.334,5.941,4.508c-2.102,4.776-6.51,13.824-7.372,15.475 c-2.696-5.635-4.41-9.972-7.345-16.064c-1.266-2.823,1.529-3.922,4.485-4.004v-1.981l-21.82-0.067 c0.016,0.93-0.021,1.451-0.021,2.131c3.041,0.046,6.988,0.371,8.562,3.019c2.087,4.063,9.044,20.194,11.149,24.514 c-2.685,5.153-9.207,17.341-11.544,21.913c-3.348-7.43-15.732-36.689-19.232-44.241c-1.304-3.218,3.732-5.077,6.646-5.213 l0.019-2.148L0,17.398c0.005,0.646,0.027,1.71,0.029,2.187c4.025-0.037,9.908,6.573,11.588,10.683 c7.244,16.811,14.719,33.524,21.928,50.349c0.002,0.029,2.256,0.059,2.281,0.008c4.717-9.653,10.229-19.797,15.206-29.56 L63.588,80.64c0.005,0.004,2.082,0.016,2.093,0.007c7.962-18.196,19.892-46.118,23.794-54.933c1.588-3.767,4.245-6.064,8.543-6.194 l0.032-1.956L98.023,17.465z"/></svg></a> <a href="/edit.html?id=m4" class="material-symbols-outlined">edit</a></div>
<p class="scrollParagraph">M4 is a <a href="/search.html?q=select+type%0D%0Awhere+type+%3D+pl">programming language</a> created in <a href="/search.html?q=select+type+appeared%0D%0Awhere+appeared+%3D+1977">1977</a> by <a href="../lists/creators.html#brianKernighan">Brian Kernighan</a> and <a href="../lists/creators.html#dennisRitchie">Dennis Ritchie</a>.</p>
<table class="scrollDashboard"><tr><td>#330<span><span title="TotalRank: 769 Jobs: 103 Users: 657 Facts: 276 Links: 390">on PLDB</span></span></td>
<td>46<span>Years Old</span></td>
<td>2k<span><span title="M4 repos on GitHub.">Repos</span></span></td></tr>
</table>
<p class="scrollParagraph">Try now: <a href="https://riju.codes/m4">Riju</a> Â· <a href="https://tio.run/#m4">TIO</a></p>
<p class="scrollParagraph">m4 is a general-purpose macro processor included in all UNIX-like operating systems, and is a component of the POSIX standard. The language was designed by Brian Kernighan and Dennis Ritchie for the original versions of UNIX. It is an extension of an earlier macro processor m3, written by Ritchie for the AP-3 minicomputer. <a href="https://en.wikipedia.org/wiki/M4_(computer_language)">Read more on Wikipedia...</a></p>
<ul style="text-indent:0px;"><li ><a href="https://en.wikipedia.org/wiki/M4_(computer_language)">M4 Wikipedia page</a></li>
<li >There are at least 2,405 M4 repos on <a href="https://github.com/search?q=language:M4">GitHub</a></li>
<li >M4 first developed in <a href="../lists/originCommunities.html#atTBellLaboratories">AT&T Bell Laboratories</a></li>
<li >file extensions for M4 include m4 and mc</li>
<li >The  Google BigQuery Public Dataset GitHub snapshot shows 12k users using M4 in 16k repos on <a href="https://api.github.com/search/repositories?q=language:M4">GitHub</a></li>
<li >Explore M4 snippets on <a href="http://www.rosettacode.org/wiki/Category:M4">Rosetta Code</a></li>
<li ><a href="https://hopl.info/showlanguage.prx?exp=766">M4 on HOPL</a></li>
<li >M4 appears in the <a href="https://www.tiobe.com/tiobe-index/">TIOBE Index</a></li>
<li ><a href="https://packages.ubuntu.com/jammy/m4">M4 Ubuntu package</a></li>
<li >GitHub supports <a href="https://github.com/Alhadis/language-etc" title="The package used for syntax highlighting by GitHub Linguist.">syntax highlighting</a> for M4</li>
<li >M4 appears in the <a href="https://github.com/mame/quine-relay">Quine Relay</a> project</li>
<li >See also: (6 related languages)<a href="assembly-language.html">Assembly language</a>, <a href="ratfor.html">RATFOR</a>, <a href="unix.html">Unix</a>, <a href="fortran.html">Fortran</a>, <a href="html.html">HTML</a>, <a href="freebsd.html">FreeBSD</a></li></ul>
<br>
<div class="codeWithHeader"><div class="codeHeader">Example from <a href='https://riju.codes/m4'>Riju</a>:</div><code class="scrollCodeBlock">errprint(`Hello, world!&#39;)
</code></div>
<div class="codeWithHeader"><div class="codeHeader">Example from <a href='https://github.com/leachim6/hello-world/blob/main/m/M4.m4'>hello-world</a>:</div><code class="scrollCodeBlock">Hello</code></div>
<div class="codeWithHeader"><div class="codeHeader">Example from <a href='http://helloworldcollection.de/#M4'>the Hello World Collection</a>:</div><code class="scrollCodeBlock"># Hello World for the m4 macro processor
Hello
</code></div>
<div class="codeWithHeader"><div class="codeHeader">Example from <a href='https://github.com/Alhadis/language-etc'>Linguist</a>:</div><code class="scrollCodeBlock">dnl Took from https://en.wikipedia.org/wiki/M4_(computer_language)
divert(-1)

M4 has multiple output queues that can be manipulated with the
`divert&#39; macro. Valid queues range from 0 to 10, inclusive, with
the default queue being 0.

Calling the `divert&#39; macro with an invalid queue causes text to be
discarded until another call.  Note that even while output is being
discarded, quotes around `divert&#39; and other macros are needed to
prevent expansion.

# Macros aren&#39;t expanded within comments, meaning that keywords such
# as divert and other built-ins may be used without consequence.

# HTML utility macro:

define(`H2_COUNT&#39;, 0)

# The H2_COUNT macro is redefined every time the H2 macro is used:

define(`H2&#39;,
	`define(`H2_COUNT&#39;, incr(H2_COUNT))&lt;h2&gt;H2_COUNT. $1&lt;/h2&gt;&#39;)

divert(1)dnl
dnl
dnl The dnl macro causes m4 to discard the rest of the line, thus
dnl preventing unwanted blank lines from appearing in the output.
dnl
H2(First Section)
H2(Second Section)
H2(Conclusion)
dnl
divert(0)dnl
dnl
&lt;HTML&gt;
undivert(1)dnl One of the queues is being pushed to output.
&lt;/HTML&gt;
</code></div>
<div class="codeWithHeader"><div class="codeHeader">Example from <a href='https://en.wikipedia.org/wiki/M4_(computer_language)'>Wikipedia</a>:</div><code class="scrollCodeBlock">&lt;HTML&gt;
&lt;h2&gt;1. First Section&lt;/h2&gt;
&lt;h2&gt;2. Second Section&lt;/h2&gt;
&lt;h2&gt;3. Conclusion&lt;/h2&gt;
&lt;/HTML&gt;</code></div>
</div>
<div class="scrollSection"><h2 class="scrollParagraph">Language <a href="../lists/features.html">features</a></h2>
</div>
<table class="scrollTable"><thead><tr><th>Feature</th>

<th>Supported</th>

<th>Token</th>

<th>Example</th>
</tr></thead>
<tbody><tr><td><a href="../features/hasLineComments.html">Line Comments</a></td>
<td><span class="hasFeature">âœ“</span></td>
<td>#</td>
<td><pre># A comment</pre></td>
</tr>
<tr><td><a href="../features/hasComments.html">Comments</a></td>
<td><span class="hasFeature">âœ“</span></td>
<td></td>
<td></td>
</tr>
<tr><td><a href="../features/hasSemanticIndentation.html">Semantic Indentation</a></td>
<td><span class="doesNotHaveFeature">X</span></td>
<td></td>
<td></td>
</tr></tbody></table>
<div class="scrollKeyboardNav" style="display:none;"><a href="asciidoc.html">asciidoc.html</a> Â· m4.html Â· <a href="x86-64-isa.html">x86-64-isa.html</a><script>document.addEventListener('keydown', function(event) {
  if (document.activeElement !== document.body) return
  const getLinks = () => document.getElementsByClassName("scrollKeyboardNav")[0].getElementsByTagName("a")
  if (event.key === "ArrowLeft")
    getLinks()[0].click()
  else if (event.key === "ArrowRight")
    getLinks()[1].click()
 });</script></div>
<p class="scrollViewSource doNotPrint">
 <a href="https://github.com/breck7/pldb/blob/main/concepts/m4.pldb">View source</a>
</p>

<script>
document.addEventListener("DOMContentLoaded", () => document.querySelectorAll(".scrollCodeBlock").forEach(block =>
 {
  if (!navigator.clipboard) return
  const button = document.createElement("span")
  button.classList.add("scrollCopyButton")
  block.appendChild(button)
  button.addEventListener("click", async () => {
    await navigator.clipboard.writeText(block.innerText)
    button.classList.add("scrollCopiedButton")
  })
 }
))
</script>


<style>/* Index page */
.pldbHomepageLink a{
  color: #000;
}
.newPostLink {
 display: block;
 line-height: 1.3em;
}
.singleColumn {
 max-width: 500px;
 margin: auto;
}
.hasFeature {
  color: green;
}
.doesNotHaveFeature {
  color: red;
}
.keywordsBlock .scrollCodeBlock {
  white-space: normal;
}
#monacoContainer {
  display: block;
  height: 10em;
  border: 1px solid grey;
  margin-top: 8px;
}
li.scrollParagraph {
 margin: 0;
}</style>
<div class="trueBaseThemeFooter">
 <a href="/index.html" class="trueBaseThemeLogo">PLDB</a>
 <span>- Build the next great programming language</span>
 <span>Â·</span>
 <a href="/search.html">Search</a>
 <span>Â·</span>
 <a href="/create.html">Add Language</a>
 <span>Â·</span>
 <a href="/lists/features.html">Features</a>
 <span>Â·</span>
 <a href="/lists/creators.html">Creators</a>
 <span>Â·</span>
 <a href="/lists/resources.html">Resources</a>
 <span>Â·</span>
 <a href="/pages/about.html">About</a>
 <span>Â·</span>
 <a href="/posts/index.html">Blog</a>
 <span>Â·</span>
 <a href="/pages/acknowledgements.html">Acknowledgements</a>
 <span>Â·</span>
 <a href="/queries.html">Queries</a>
 <span>Â·</span>
 <a href="/stats.html">Stats</a>
 <span>Â·</span>
 <a href="/pages/sponsor.html">Sponsor</a>
 <span>Â·</span>
 <a href="https://pldb.com/traffic.html">Traffic</a>
 <span>Â·</span>
 <a href="https://pldb.com/trafficToday.html">Traffic Today</a>
 <span>Â·</span>
 <a href="https://github.com/breck7/pldb/commits/main">Day 295</a>
 <span>Â·</span>
 <a href="mailto:feedback@pldb.com">feedback@pldb.com</a>
 <span>Â·</span>
 <a style="display:none;" href="/loginOrJoin.html" class="notLoggedIn">Login</a>
 <a onclick="new TrueBaseBrowserApp().logoutCommand()" class="loggedIn" id="logoutButton" href="#">Logout</a>
</div>

<script src="/combined.js" defer></script>
<script>document.addEventListener("DOMContentLoaded", () => new TrueBaseBrowserApp().render().revealUserAccountButtons())</script></html>